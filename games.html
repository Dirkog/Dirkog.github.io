<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ò–≥—Ä–æ–≤–∞—è –∑–æ–Ω–∞ | –ü—Ä–æ–µ–∫—Ç 8 –∫–ª–∞—Å—Å–∞</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* –®–∞–ø–∫–∞ —Å –Ω–µ–æ–Ω–æ–≤—ã–º —ç—Ñ—Ñ–µ–∫—Ç–æ–º */
        header {
            text-align: center;
            padding: 40px 20px;
            background: rgba(0, 0, 0, 0.7);
            border-radius: 20px;
            margin-bottom: 30px;
            border: 3px solid #00ff88;
            box-shadow: 0 0 20px #00ff88;
            position: relative;
            overflow: hidden;
        }

        header:before {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 255, 136, 0.2), transparent);
            animation: shine 3s infinite;
        }

        @keyframes shine {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        h1 {
            font-size: 3rem;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #00ff88, #00ccff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 10px rgba(0, 255, 136, 0.5);
        }

        .subtitle {
            color: #aaa;
            font-size: 1.2rem;
            margin-bottom: 20px;
        }

        /* –ù–∞–≤–∏–≥–∞—Ü–∏—è */
        .nav {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        .nav-btn {
            background: rgba(0, 255, 136, 0.1);
            border: 2px solid #00ff88;
            color: #00ff88;
            padding: 12px 25px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s;
            text-decoration: none;
        }

        .nav-btn:hover {
            background: #00ff88;
            color: #000;
            transform: scale(1.05);
            box-shadow: 0 0 15px #00ff88;
        }

        /* –ò–≥—Ä–æ–≤–∞—è —Å–µ—Ç–∫–∞ */
        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin: 40px 0;
        }

        .game-card {
            background: rgba(0, 0, 0, 0.5);
            border-radius: 15px;
            padding: 25px;
            border: 2px solid;
            transition: transform 0.3s;
            backdrop-filter: blur(10px);
        }

        .game-card:hover {
            transform: translateY(-10px);
        }

        .game-card h2 {
            margin-bottom: 15px;
            font-size: 1.8rem;
            color: #00ccff;
        }

        /* –ö–Ω–æ–ø–∫–∞ –∏–≥—Ä—ã */
        .play-btn {
            display: inline-block;
            background: linear-gradient(45deg, #ff0080, #ff8c00);
            color: white;
            padding: 12px 30px;
            border-radius: 25px;
            border: none;
            cursor: pointer;
            font-size: 1rem;
            margin-top: 15px;
            transition: all 0.3s;
            font-weight: bold;
        }

        .play-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 0 20px #ff0080;
        }

        /* –ò–≥—Ä–æ–≤—ã–µ –ø–æ–ª—è */
        .game-area {
            background: rgba(0, 0, 0, 0.7);
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            border: 1px solid #444;
            min-height: 200px;
            position: relative;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∏–≥—Ä */
        #quizArea {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .quiz-option {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }

        .quiz-option:hover {
            background: rgba(0, 255, 136, 0.2);
            border-color: #00ff88;
        }

        #dinoCanvas {
            background: #111;
            display: block;
            margin: 0 auto;
            border: 3px solid #00ff88;
            border-radius: 10px;
        }

        /* –†–µ–∞–∫—Ü–∏—è */
        #reactionBox {
            width: 100%;
            height: 200px;
            background: #222;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            cursor: pointer;
            transition: background 0.3s;
            user-select: none;
        }

        /* –†–µ–π—Ç–∏–Ω–≥ */
        .score {
            font-size: 1.5rem;
            color: #ffd700;
            margin: 10px 0;
        }

        /* –ü–æ–¥–≤–∞–ª */
        footer {
            text-align: center;
            padding: 30px;
            background: rgba(0, 0, 0, 0.8);
            border-radius: 15px;
            margin-top: 50px;
            border-top: 3px solid #00ccff;
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 768px) {
            .games-grid {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 2.2rem;
            }
            
            .nav {
                flex-direction: column;
                align-items: center;
            }
        }

        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .pulse {
            animation: pulse 1s infinite;
        }

        /* –ß–∞—Å—Ç–∏—Ü—ã */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }
    </style>
</head>
<body>
    <!-- –§–æ–Ω–æ–≤—ã–µ —á–∞—Å—Ç–∏—Ü—ã -->
    <canvas class="particles" id="particles"></canvas>

    <div class="container">
        <header>
            <h1>üéÆ –ò–ì–†–û–í–ê–Ø –ó–û–ù–ê</h1>
            <p class="subtitle">–û—Ç–≤–ª–µ–∫–∏—Å—å –æ—Ç —É—Ä–æ–∫–æ–≤ –∏ —Ä–∞–∑–æ–º–Ω–∏ –º–æ–∑–≥–∏!</p>
            <div class="nav">
                <a href="index.html" class="nav-btn">üî¨ –ù–∞ –≥–ª–∞–≤–Ω—É—é (–ê–ø–ø–µ–Ω–¥–∏–∫—É–ª—è—Ä–∏–∏)</a>
                <button class="nav-btn" onclick="resetAllGames()">üîÑ –°–±—Ä–æ—Å–∏—Ç—å –≤—Å–µ –∏–≥—Ä—ã</button>
            </div>
        </header>

        <div class="games-grid">
            <!-- –ò–≥—Ä–∞ 1: –í–∏–∫—Ç–æ—Ä–∏–Ω–∞ -->
            <div class="game-card" style="border-color: #00ff88;">
                <h2>üß† –í–∏–∫—Ç–æ—Ä–∏–Ω–∞ –ø–æ –±–∏–æ–ª–æ–≥–∏–∏</h2>
                <p>–ü—Ä–æ–≤–µ—Ä—å —Å–≤–æ–∏ –∑–Ω–∞–Ω–∏—è! 5 –≤–æ–ø—Ä–æ—Å–æ–≤ –æ –º–æ—Ä—Å–∫–∏—Ö –æ–±–∏—Ç–∞—Ç–µ–ª—è—Ö.</p>
                <div class="score" id="quizScore">–°—á—ë—Ç: 0/5</div>
                <button class="play-btn" onclick="startQuiz()">–ù–∞—á–∞—Ç—å –≤–∏–∫—Ç–æ—Ä–∏–Ω—É</button>
                <div class="game-area" id="quizArea">
                    <!-- –ó–¥–µ—Å—å –±—É–¥—É—Ç –ø–æ—è–≤–ª—è—Ç—å—Å—è –≤–æ–ø—Ä–æ—Å—ã -->
                </div>
            </div>

            <!-- –ò–≥—Ä–∞ 2: –î–∏–Ω–æ–∑–∞–≤—Ä -->
            <div class="game-card" style="border-color: #ff0080;">
                <h2>ü¶ï –ë–µ–≥—É—â–∏–π –¥–∏–Ω–æ–∑–∞–≤—Ä</h2>
                <p>–ü—Ä—ã–≥–∞–π —á–µ—Ä–µ–∑ –∫–∞–∫—Ç—É—Å—ã! –ù–∞–∂–º–∏ –ü–†–û–ë–ï–õ –¥–ª—è –ø—Ä—ã–∂–∫–∞.</p>
                <div class="score" id="dinoScore">–†–µ–∫–æ—Ä–¥: 0</div>
                <button class="play-btn" onclick="startDinoGame()">–ó–∞–ø—É—Å—Ç–∏—Ç—å –∏–≥—Ä—É</button>
                <div class="game-area">
                    <canvas id="dinoCanvas" width="350" height="150"></canvas>
                </div>
            </div>

            <!-- –ò–≥—Ä–∞ 3: –†–µ–∞–∫—Ü–∏—è -->
            <div class="game-card" style="border-color: #00ccff;">
                <h2>‚ö° –¢–µ—Å—Ç –Ω–∞ —Ä–µ–∞–∫—Ü–∏—é</h2>
                <p>–ö–ª–∏–∫–Ω–∏, –∫–æ–≥–¥–∞ –∫–≤–∞–¥—Ä–∞—Ç —Å—Ç–∞–Ω–µ—Ç –∑–µ–ª—ë–Ω—ã–º. –ß–µ–º –±—ã—Å—Ç—Ä–µ–µ ‚Äî —Ç–µ–º –ª—É—á—à–µ!</p>
                <div class="score" id="reactionScore">–õ—É—á—à–µ–µ –≤—Ä–µ–º—è: 0 –º—Å</div>
                <div class="game-area">
                    <div id="reactionBox" onclick="handleReactionClick()">
                        –ñ–¥–∏ –∑–µ–ª—ë–Ω–æ–≥–æ —Ü–≤–µ—Ç–∞...
                    </div>
                </div>
            </div>

            <!-- –ò–≥—Ä–∞ 4: –ü–∞–∑–ª -->
            <div class="game-card" style="border-color: #ffd700;">
                <h2>üß© –ú–æ—Ä—Å–∫–æ–π –ø–∞–∑–ª</h2>
                <p>–°–æ–±–µ—Ä–∏ –∫–∞—Ä—Ç–∏–Ω–∫—É —Å –∞–ø–ø–µ–Ω–¥–∏–∫—É–ª—è—Ä–∏–µ–π. –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–π –∫—É—Å–æ—á–∫–∏.</p>
                <div class="score" id="puzzleMoves">–•–æ–¥—ã: 0</div>
                <button class="play-btn" onclick="createPuzzle()">–°–æ–∑–¥–∞—Ç—å –ø–∞–∑–ª</button>
                <div class="game-area" id="puzzleArea">
                    <!-- –ü–∞–∑–ª –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å -->
                </div>
            </div>
        </div>

        <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏—è -->
        <div class="game-card" style="border-color: #9d4edd; margin-top: 30px;">
            <h2>üéµ –ú—É–∑—ã–∫–∞–ª—å–Ω—ã–π –ø—Ä–æ–∏–≥—Ä—ã–≤–∞—Ç–µ–ª—å</h2>
            <p>–°–ª—É—à–∞–π —Ñ–æ–Ω–æ–≤—É—é –º—É–∑—ã–∫—É –≤–æ –≤—Ä–µ–º—è –∏–≥—Ä—ã</p>
            <div style="display: flex; gap: 15px; margin-top: 15px; flex-wrap: wrap;">
                <button class="play-btn" style="background: linear-gradient(45deg, #9d4edd, #560bad);" onclick="playMusic('relax')">üåä –†–∞—Å—Å–ª–∞–±–ª—è—é—â–∞—è</button>
                <button class="play-btn" style="background: linear-gradient(45deg, #ff006e, #fb5607);" onclick="playMusic('game')">üéÆ –ò–≥—Ä–æ–≤–∞—è</button>
                <button class="play-btn" style="background: linear-gradient(45deg, #3a86ff, #8338ec);" onclick="stopMusic()">‚èπÔ∏è –°—Ç–æ–ø</button>
                <input type="range" id="volume" min="0" max="100" value="50" style="width: 200px;">
            </div>
            <div id="nowPlaying" style="margin-top: 15px; color: #aaa;"></div>
        </div>

        <footer>
            <h3>–ò–≥—Ä–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ–µ–∫—Ç–∞ 8 –∫–ª–∞—Å—Å–∞</h3>
            <p>–°–¥–µ–ª–∞–Ω–æ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º HTML, CSS –∏ JavaScript</p>
            <p>2026 | –î–ª—è —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏—è –∏ —Ä–∞–∑–≤–∏—Ç–∏—è —Ä–µ–∞–∫—Ü–∏–∏</p>
            <p style="margin-top: 15px; color: #00ff88;">
                üéØ –ü–æ–º–Ω–∏: –∏–≥—Ä—ã ‚Äî —ç—Ç–æ —Ö–æ—Ä–æ—à–æ, –Ω–æ —É—á—ë–±–∞ –≤–∞–∂–Ω–µ–µ!
            </p>
        </footer>
    </div>

    <script>
        // ==================== –ß–ê–°–¢–ò–¶–´ –ù–ê –§–û–ù–ï ====================
        const canvas = document.getElementById('particles');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        const particles = [];
        const particleCount = 100;

        class Particle {
            constructor() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.size = Math.random() * 3 + 1;
                this.speedX = Math.random() * 1 - 0.5;
                this.speedY = Math.random() * 1 - 0.5;
                this.color = `hsl(${Math.random() * 360}, 100%, 70%)`;
            }

            update() {
                this.x += this.speedX;
                this.y += this.speedY;
                if (this.x > canvas.width) this.x = 0;
                if (this.x < 0) this.x = canvas.width;
                if (this.y > canvas.height) this.y = 0;
                if (this.y < 0) this.y = canvas.height;
            }

            draw() {
                ctx.fillStyle = this.color;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
            }
        }

        function initParticles() {
            for (let i = 0; i < particleCount; i++) {
                particles.push(new Particle());
            }
        }

        function animateParticles() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            particles.forEach(particle => {
                particle.update();
                particle.draw();
            });
            requestAnimationFrame(animateParticles);
        }

        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });

        // ==================== –í–ò–ö–¢–û–†–ò–ù–ê ====================
        const quizQuestions = [
            {
                question: "–ö–∞–∫–æ–π —Ä–∞–∑–º–µ—Ä —É –∞–ø–ø–µ–Ω–¥–∏–∫—É–ª—è—Ä–∏–π?",
                options: ["0,5-3 —Å–º", "10-20 —Å–º", "1-2 –º–º", "5-10 –º"],
                correct: 0
            },
            {
                question: "–ò–∑ —á–µ–≥–æ –æ–Ω–∏ —Å—Ç—Ä–æ—è—Ç –¥–æ–º–∏–∫–∏?",
                options: ["–ò–∑ —Å–ª–∏–∑–∏", "–ò–∑ –ø–µ—Å–∫–∞", "–ò–∑ –≤–æ–¥–æ—Ä–æ—Å–ª–µ–π", "–ò–∑ —Ä–∞–∫—É—à–µ–∫"],
                correct: 0
            },
            {
                question: "–°–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ –Ω—É–∂–Ω–æ –¥–ª—è –ø–æ—Å—Ç—Ä–æ–π–∫–∏ –Ω–æ–≤–æ–≥–æ –¥–æ–º–∏–∫–∞?",
                options: ["15-20 –º–∏–Ω—É—Ç", "1 —á–∞—Å", "5 –º–∏–Ω—É—Ç", "1 –¥–µ–Ω—å"],
                correct: 0
            },
            {
                question: "–ö –∫–∞–∫–æ–º—É —Ç–∏–ø—É –∂–∏–≤–æ—Ç–Ω—ã—Ö –æ–Ω–∏ –æ—Ç–Ω–æ—Å—è—Ç—Å—è?",
                options: ["–•–æ—Ä–¥–æ–≤—ã–µ", "–ß–ª–µ–Ω–∏—Å—Ç–æ–Ω–æ–≥–∏–µ", "–ú–æ–ª–ª—é—Å–∫–∏", "–ò–≥–ª–æ–∫–æ–∂–∏–µ"],
                correct: 0
            },
            {
                question: "–ß–µ–º –ø–∏—Ç–∞—é—Ç—Å—è –∞–ø–ø–µ–Ω–¥–∏–∫—É–ª—è—Ä–∏–∏?",
                options: ["–ë–∞–∫—Ç–µ—Ä–∏—è–º–∏", "–†—ã–±–æ–π", "–í–æ–¥–æ—Ä–æ—Å–ª—è–º–∏", "–ü–ª–∞–Ω–∫—Ç–æ–Ω–æ–º"],
                correct: 0
            }
        ];

        let quizScore = 0;
        let currentQuestion = 0;

        function startQuiz() {
            quizScore = 0;
            currentQuestion = 0;
            document.getElementById('quizScore').textContent = '–°—á—ë—Ç: 0/5';
            showQuestion();
        }

        function showQuestion() {
            const area = document.getElementById('quizArea');
            if (currentQuestion >= quizQuestions.length) {
                area.innerHTML = `<h3>–í–∏–∫—Ç–æ—Ä–∏–Ω–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!</h3><p>–í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç: ${quizScore}/5</p>`;
                if (quizScore === 5) area.innerHTML += '<p style="color:#00ff88">üéâ –û—Ç–ª–∏—á–Ω–æ! –í—ã —ç–∫—Å–ø–µ—Ä—Ç!</p>';
                return;
            }

            const q = quizQuestions[currentQuestion];
            area.innerHTML = `
                <h3>–í–æ–ø—Ä–æ—Å ${currentQuestion + 1}/5</h3>
                <p><strong>${q.question}</strong></p>
                ${q.options.map((opt, idx) => `
                    <div class="quiz-option" onclick="checkAnswer(${idx})">
                        ${opt}
                    </div>
                `).join('')}
            `;
        }

        function checkAnswer(selected) {
            const q = quizQuestions[currentQuestion];
            const options = document.querySelectorAll('.quiz-option');
            
            options.forEach((opt, idx) => {
                if (idx === q.correct) {
                    opt.style.background = 'rgba(0, 255, 136, 0.3)';
                    opt.style.borderColor = '#00ff88';
                } else if (idx === selected) {
                    opt.style.background = 'rgba(255, 0, 0, 0.3)';
                    opt.style.borderColor = '#ff0000';
                }
                opt.style.pointerEvents = 'none';
            });

            if (selected === q.correct) {
                quizScore++;
                document.getElementById('quizScore').textContent = `–°—á—ë—Ç: ${quizScore}/5`;
            }

            setTimeout(() => {
                currentQuestion++;
                showQuestion();
            }, 1500);
        }

        // ==================== –î–ò–ù–û–ó–ê–í–† –ò–ì–†–ê ====================
        const dinoCanvas = document.getElementById('dinoCanvas');
        const dinoCtx = dinoCanvas.getContext('2d');
        let dinoGameRunning = false;
        let dinoY = 100;
        let dinoVelocity = 0;
        let gravity = 0.5;
        let cacti = [];
        let dinoScore = 0;
        let gameSpeed = 3;

        function startDinoGame() {
            dinoGameRunning = true;
            dinoY = 100;
            dinoVelocity = 0;
            cacti = [];
            dinoScore = 0;
            gameSpeed = 3;
            gameLoop();
        }

        function gameLoop() {
            if (!dinoGameRunning) return;
            
            dinoCtx.clearRect(0, 0, dinoCanvas.width, dinoCanvas.height);
            
            // –î–∏–Ω–æ–∑–∞–≤—Ä
            dinoVelocity += gravity;
            dinoY += dinoVelocity;
            if (dinoY > 100) dinoY = 100;
            
            dinoCtx.fillStyle = '#00ff88';
            dinoCtx.fillRect(50, dinoY, 20, 40);
            
            // –ö–∞–∫—Ç—É—Å—ã
            if (Math.random() < 0.02) {
                cacti.push({ x: dinoCanvas.width, height: 20 + Math.random() * 30 });
            }
            
            cacti.forEach((cactus, index) => {
                cactus.x -= gameSpeed;
                dinoCtx.fillStyle = '#ff0080';
                dinoCtx.fillRect(cactus.x, dinoCanvas.height - cactus.height, 15, cactus.height);
                
                // –°—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–µ
                if (cactus.x < 70 && cactus.x > 30 && dinoY > (dinoCanvas.height - cactus.height - 40)) {
                    dinoGameRunning = false;
                    alert(`–ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞! –°—á—ë—Ç: ${dinoScore}`);
                }
                
                // –£–¥–∞–ª–∏—Ç—å –ø—Ä–æ–π–¥–µ–Ω–Ω—ã–µ –∫–∞–∫—Ç—É—Å—ã
                if (cactus.x < -15) {
                    cacti.splice(index, 1);
                    dinoScore++;
                    document.getElementById('dinoScore').textContent = `–†–µ–∫–æ—Ä–¥: ${dinoScore}`;
                    gameSpeed += 0.1;
                }
            });
            
            requestAnimationFrame(gameLoop);
        }

        document.addEventListener('keydown', (e) => {
            if (e.code === 'Space' && dinoGameRunning && dinoY === 100) {
                dinoVelocity = -10;
            }
        });

        dinoCanvas.addEventListener('click', () => {
            if (dinoGameRunning && dinoY === 100) {
                dinoVelocity = -10;
            }
        });

        // ==================== –¢–ï–°–¢ –ù–ê –†–ï–ê–ö–¶–ò–Æ ====================
        let reactionStartTime;
        let reactionBestTime = localStorage.getItem('reactionBest') || 0;
        document.getElementById('reactionScore').textContent = `–õ—É—á—à–µ–µ –≤—Ä–µ–º—è: ${reactionBestTime} –º—Å`;

        function startReactionTest() {
            const box = document.getElementById('reactionBox');
            box.style.background = '#222';
            box.textContent = '–ñ–¥–∏ –∑–µ–ª—ë–Ω–æ–≥–æ —Ü–≤–µ—Ç–∞...';
            box.style.cursor = 'default';
            
            setTimeout(() => {
                box.style.background = '#00ff88';
                box.textContent = '–ö–õ–ò–ö–ê–ô –°–ï–ô–ß–ê–°!';
                reactionStartTime = Date.now();
                box.style.cursor = 'pointer';
            }, 1000 + Math.random() * 3000);
        }

        function handleReactionClick() {
            const box = document.getElementById('reactionBox');
            if (box.style.background === 'rgb(0, 255, 136)') {
                const reactionTime = Date.now() - reactionStartTime;
                box.textContent = `–í–∞—à–∞ —Ä–µ–∞–∫—Ü–∏—è: ${reactionTime} –º—Å`;
                box.style.background = '#3a86ff';
                
                if (reactionTime < reactionBestTime || reactionBestTime === 0) {
                    reactionBestTime = reactionTime;
                    localStorage.setItem('reactionBest', reactionTime);
                    document.getElementById('reactionScore').textContent = `–õ—É—á—à–µ–µ –≤—Ä–µ–º—è: ${reactionTime} –º—Å`;
                }
                
                setTimeout(startReactionTest, 2000);
            }
        }

        // ==================== –ü–ê–ó–õ ====================
        function createPuzzle() {
            const area = document.getElementById('puzzleArea');
            area.innerHTML = '';
            
            const pieces = 9;
            for (let i = 0; i < pieces; i++) {
                const piece = document.createElement('div');
                piece.className = 'puzzle-piece';
                piece.style.cssText = `
                    width: 60px;
                    height: 60px;
                    background: hsl(${i * 40}, 70%, 60%);
                    display: inline-block;
                    margin: 2px;
                    border-radius: 5px;
                    cursor: move;
                    user-select: none;
                    text-align: center;
                    line-height: 60px;
                    font-weight: bold;
                `;
                piece.textContent = i + 1;
                piece.draggable = true;
                
                piece.addEventListener('dragstart', (e) => {
                    e.dataTransfer.setData('text/plain', i);
                });
                
                piece.addEventListener('dragover', (e) => {
                    e.preventDefault();
                });
                
                piece.addEventListener('drop', (e) => {
                    e.preventDefault();
                    const fromIndex = parseInt(e.dataTransfer.getData('text/plain'));
                    const toIndex = i;
                    swapPieces(fromIndex, toIndex);
                });
                
                area.appendChild(piece);
            }
            
            shufflePuzzle();
            updatePuzzleMoves();
        }

        let puzzleMoves = 0;
        let puzzlePieces = [];

        function shufflePuzzle() {
            const pieces = document.querySelectorAll('.puzzle-piece');
            puzzlePieces = Array.from(pieces);
            
            for (let i = puzzlePieces.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                puzzlePieces[i].parentNode.insertBefore(puzzlePieces[j], puzzlePieces[i]);
            }
        }

        function swapPieces(from, to) {
            if (from === to) return;
            
            const pieces = document.querySelectorAll('.puzzle-piece');
            const parent = pieces[0].parentNode;
            
            parent.insertBefore(pieces[from], pieces[to]);
            puzzleMoves++;
            updatePuzzleMoves();
        }

        function updatePuzzleMoves() {
            document.getElementById('puzzleMoves').textContent = `–•–æ–¥—ã: ${puzzleMoves}`;
        }

        // ==================== –ú–£–ó–´–ö–ê ====================
        const audioContext = new (window.AudioContext || window.webkitAudioContext)();
        let currentOscillator;

        function playMusic(type) {
            stopMusic();
            
            currentOscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            const volume = document.getElementById('volume').value / 100;
            
            gainNode.gain.value = volume * 0.1;
            
            if (type === 'relax') {
                currentOscillator.type = 'sine';
                currentOscillator.frequency.value = 440;
            } else {
                currentOscillator.type = 'square';
                currentOscillator.frequency.value = 220;
            }
            
            currentOscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            currentOscillator.start();
            
            document.getElementById('nowPlaying').textContent = 
                `–°–µ–π—á–∞—Å –∏–≥—Ä–∞–µ—Ç: ${type === 'relax' ? 'üåä –†–∞—Å—Å–ª–∞–±–ª—è—é—â–∞—è –º—É–∑—ã–∫–∞' : 'üéÆ –ò–≥—Ä–æ–≤–∞—è –º—É–∑—ã–∫–∞'}`;
        }

        function stopMusic() {
            if (currentOscillator) {
                currentOscillator.stop();
                currentOscillator = null;
            }
            document.getElementById('nowPlaying').textContent = '–ú—É–∑—ã–∫–∞ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞';
        }

        document.getElementById('volume').addEventListener('input', (e) => {
            if (currentOscillator) {
                playMusic('relax'); // –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º —Å –Ω–æ–≤—ã–º —É—Ä–æ–≤–Ω–µ–º –≥—Ä–æ–º–∫–æ—Å—Ç–∏
            }
        });

        // ==================== –û–ë–©–ò–ï –§–£–ù–ö–¶–ò–ò ====================
        function resetAllGames() {
            if (confirm("–°–±—Ä–æ—Å–∏—Ç—å –≤—Å–µ –∏–≥—Ä—ã –∏ —Å—á—ë—Ç?")) {
                // –°–±—Ä–æ—Å –≤–∏–∫—Ç–æ—Ä–∏–Ω—ã
                quizScore = 0;
                currentQuestion = 0;
                document.getElementById('quizScore').textContent = '–°—á—ë—Ç: 0/5';
                document.getElementById('quizArea').innerHTML = '';
                
                // –°–±—Ä–æ—Å –¥–∏–Ω–æ–∑–∞–≤—Ä–∞
                dinoGameRunning = false;
                dinoScore = 0;
                document.getElementById('dinoScore').textContent = '–†–µ–∫–æ—Ä–¥: 0';
                dinoCtx.clearRect(0, 0, dinoCanvas.width, dinoCanvas.height);
                
                // –°–±—Ä–æ—Å —Ä–µ–∞–∫—Ü–∏–∏
                reactionBestTime = 0;
                localStorage.removeItem('reactionBest');
                document.getElementById('reactionScore').textContent = '–õ—É—á—à–µ–µ –≤—Ä–µ–º—è: 0 –º—Å';
                document.getElementById('reactionBox').style.background = '#222';
                document.getElementById('reactionBox').textContent = '–ñ–¥–∏ –∑–µ–ª—ë–Ω–æ–≥–æ —Ü–≤–µ—Ç–∞...';
                
                // –°–±—Ä–æ—Å –ø–∞–∑–ª–∞
                puzzleMoves = 0;
                document.getElementById('puzzleMoves').textContent = '–•–æ–¥—ã: 0';
                document.getElementById('puzzleArea').innerHTML = '';
                
                // –°–±—Ä–æ—Å –º—É–∑—ã–∫–∏
                stopMusic();
                
                alert('–í—Å–µ –∏–≥—Ä—ã —Å–±—Ä–æ—à–µ–Ω—ã!');
            }
        }

        // ==================== –ó–ê–ü–£–°–ö –í–°–ï–ì–û ====================
        window.onload = function() {
            initParticles();
            animateParticles();
            startReactionTest();
            createPuzzle();
            
            // –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –≤–∏–∫—Ç–æ—Ä–∏–Ω—ã —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã
            setTimeout(() => {
                if (document.getElementById('quizArea').innerHTML === '') {
                    startQuiz();
                }
            }, 2000);
        };
    </script>
</body>
</html>
